# exercises

## 1. 테이블 개요 (Table Overview)
| 항목 | 내용 |
| :--- | :--- |
| **테이블 명** | `exercises` |
| **설명** | '벤치프레스', '스쿼트', '달리기' 등 서비스에서 제공하는 모든 개별 운동의 정보를 담는 마스터 테이블입니다. '운동 사전'과 같은 역할을 합니다. |

## 2. 컬럼 명세 (Column Specification)
- `id`: 운동 고유 ID (Primary Key)
- `name`: 운동 이름 (예: '벤치프레스')
- `category`: 운동 카테고리 (예: '가슴', '하체', '유산소')
- `description`: 운동 방법 및 주의사항에 대한 설명
- `is_hidden` : 숨김 처리 (특정 운동을 삭제하려고 할때 운동기록과 루틴을 보존하기 위해)
- `created_at`: 레코드 생성일시
- `updated_at`: 레코드 마지막 수정일시

## 3. 관계 (Relations)
- **`routine_items` (1:N)**: 하나의 운동은 여러 루틴 상세 항목에 포함될 수 있습니다.
- **`workout_logs` (1:N)**: 하나의 운동은 여러 운동 기록에 포함될 수 있습니다.

## 4. 인덱스 (Indexes)
| 인덱스 명 | 컬럼 | 설명 |
| :--- | :--- | :--- |
| `idx_exercises_category` | `(category)` | 특정 카테고리에 속한 운동들을 빠르게 조회하기 위해 사용됩니다. |

## 5. DDL 쿼리문 (DDL Query)
```sql
-- 테이블이 이미 존재할 경우 삭제
DROP TABLE IF EXISTS exercises CASCADE;

-- exercises 테이블 생성
CREATE TABLE exercises (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(100) NOT NULL UNIQUE,
    category VARCHAR(50) NOT NULL,
    -- image_url TEXT, -- 운동 정보 이미지 또한 aws S3에서 관리하도록 변경
    description TEXT,
    is_hidden BOOLEAN NOT NULL DEFAULT false, -- 삭제 상황에서 기존의 운동기록과 루틴을 보존하기 위해
    created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- 인덱스 생성
CREATE INDEX idx_exercises_category ON exercises(category);

-- 주석 추가
COMMENT ON TABLE exercises IS '서비스에서 제공하는 모든 운동의 종류를 정의하는 마스터 테이블';
COMMENT ON COLUMN exercises.name IS '운동 이름 (예: 벤치프레스)';
COMMENT ON COLUMN exercises.category IS '운동 부위 또는 종류 (예: 가슴, 등, 유산소)';
COMMENT ON COLUMN exercises.is_hidden IS '삭제 상황에서 기존의 운동기록과 루틴을 보존하기 위해 (기본값 false)';
```